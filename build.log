[0;34m🚁 Local Docker Build and Run[0m
Container: [1;33mshiviz_nav_local[0m
Drone ID: [1;33m1[0m

[0;34m🔨 Step 1: Building Docker image locally...[0m
Building for current platform...
[1;33mThis will build all ROS nodes in the src/ folder:[0m
  - px4_offboard_node
  - px4ctrl
  - utils/* (all utility packages)

#0 building with "default" instance using docker driver

#1 [internal] load build definition from Dockerfile
#1 transferring dockerfile: 6.23kB done
#1 DONE 0.0s

#2 [internal] load metadata for docker.io/library/ros:noetic-ros-core-focal
#2 DONE 0.9s

#3 [internal] load .dockerignore
#3 transferring context: 811B done
#3 DONE 0.0s

#4 [ 1/24] FROM docker.io/library/ros:noetic-ros-core-focal@sha256:fd6279f04e51fa61201a791da9a156129941887b95b614ae0cec7865ef49de4f
#4 DONE 0.0s

#5 [internal] load build context
#5 transferring context: 67.72kB 0.0s done
#5 DONE 0.0s

#6 [10/24] RUN apt-get update &&     python3 /tmp/installer.py -s -u deployment -p vilota-dep --no-update-script &&     rm -rf /var/lib/apt/lists/*
#6 CACHED

#7 [15/24] RUN wget https://raw.githubusercontent.com/mavlink/mavros/master/mavros/scripts/install_geographiclib_datasets.sh     && bash ./install_geographiclib_datasets.sh     && rm install_geographiclib_datasets.sh
#7 CACHED

#8 [ 6/24] RUN apt-get update && apt-get install -y --no-install-recommends     ros-noetic-pcl-ros     ros-noetic-pcl-conversions     ros-noetic-eigen-conversions     ros-noetic-cmake-modules     ros-noetic-rviz     && rm -rf /var/lib/apt/lists/*
#8 CACHED

#9 [ 8/24] COPY tools/VilotaSoftwareInstaller_v2.0-bba1a93f.py /tmp/installer.py
#9 CACHED

#10 [ 9/24] RUN apt-get update &&     apt-get install -y --no-install-recommends         python3-requests         software-properties-common         sudo         iputils-ping         apt-transport-https         ca-certificates         gnupg &&     rm -rf /var/lib/apt/lists/*
#10 CACHED

#11 [ 2/24] RUN apt-get update && apt-get install --no-install-recommends -y     vim     wget     curl     git     tmux     iproute2     build-essential     python3-rosdep     python3-rosinstall     python3-vcstools     python3-catkin-tools     python3-pip     xmlstarlet     && rm -rf /var/lib/apt/lists/*
#11 CACHED

#12 [13/24] RUN python3 -c "import capnp; print(f'pycapnp {capnp.__version__} imported successfully')" || echo "Warning: pycapnp import failed"
#12 CACHED

#13 [11/24] RUN apt-get update &&     apt-get install -y --no-install-recommends python3-ecal5 &&     rm -rf /var/lib/apt/lists/* ||     echo "Warning: python3-ecal5 package not available"
#13 CACHED

#14 [ 4/24] RUN apt-get update && apt-get install -y --no-install-recommends     ros-noetic-ros-base=1.5.0-1*     && rm -rf /var/lib/apt/lists/*
#14 CACHED

#15 [ 7/24] RUN apt-get update && apt-get install -y --no-install-recommends     libeigen3-dev     libpcl-dev     libyaml-cpp-dev     && rm -rf /var/lib/apt/lists/*
#15 CACHED

#16 [14/24] RUN mkdir -p /etc/udev/rules.d &&     echo 'SUBSYSTEM=="usb", ATTRS{idVendor}=="03e7", MODE="0666"' > /etc/udev/rules.d/80-movidius.rules || true
#16 CACHED

#17 [ 3/24] RUN rosdep init &&     rosdep update --rosdistro noetic
#17 CACHED

#18 [ 5/24] RUN apt-get update && apt-get install -y --no-install-recommends     ros-noetic-mavlink     ros-noetic-mavros     ros-noetic-mavros-msgs     ros-noetic-mavros-extras     ros-noetic-geometry-msgs     ros-noetic-tf2-ros     ros-noetic-tf2-geometry-msgs     && rm -rf /var/lib/apt/lists/*
#18 CACHED

#19 [12/24] RUN python3 -c "import ecal; print('eCAL imported successfully')" || echo "Warning: eCAL import failed"
#19 CACHED

#20 [16/24] WORKDIR /catkin_ws/src/
#20 CACHED

#21 [17/24] COPY . /catkin_ws/src/shiviz_px4_nav/
#21 DONE 0.1s

#22 [18/24] COPY tools/ecal.ini /etc/ecal/ecal.ini
#22 DONE 0.0s

#23 [19/24] WORKDIR /catkin_ws/
#23 DONE 0.0s

#24 [20/24] RUN source /opt/ros/noetic/setup.bash     && rosdep update     && rosdep install --from-paths src --ignore-src -r -y     && echo "Building all packages in workspace with catkin_make..."     && catkin_make -DCMAKE_BUILD_TYPE=Release     && echo "Build complete. Listing packages:"     && ls -la devel/lib/
#24 4.068 reading in sources list data from /etc/ros/rosdep/sources.list.d
#24 4.068 Hit https://raw.githubusercontent.com/ros/rosdistro/master/rosdep/osx-homebrew.yaml
#24 4.068 Hit https://raw.githubusercontent.com/ros/rosdistro/master/rosdep/base.yaml
#24 4.068 Hit https://raw.githubusercontent.com/ros/rosdistro/master/rosdep/python.yaml
#24 4.068 Hit https://raw.githubusercontent.com/ros/rosdistro/master/rosdep/ruby.yaml
#24 4.068 Hit https://raw.githubusercontent.com/ros/rosdistro/master/releases/fuerte.yaml
#24 4.068 Query rosdistro index https://raw.githubusercontent.com/ros/rosdistro/master/index-v4.yaml
#24 4.068 Skip end-of-life distro "ardent"
#24 4.068 Skip end-of-life distro "bouncy"
#24 4.068 Skip end-of-life distro "crystal"
#24 4.068 Skip end-of-life distro "dashing"
#24 4.068 Skip end-of-life distro "eloquent"
#24 4.068 Skip end-of-life distro "foxy"
#24 4.068 Skip end-of-life distro "galactic"
#24 4.068 Skip end-of-life distro "groovy"
#24 4.068 Add distro "humble"
#24 4.068 Skip end-of-life distro "hydro"
#24 4.068 Skip end-of-life distro "indigo"
#24 4.068 Skip end-of-life distro "iron"
#24 4.068 Skip end-of-life distro "jade"
#24 4.068 Add distro "jazzy"
#24 4.068 Add distro "kilted"
#24 4.068 Skip end-of-life distro "kinetic"
#24 4.068 Skip end-of-life distro "lunar"
#24 4.068 Skip end-of-life distro "melodic"
#24 4.068 Skip end-of-life distro "noetic"
#24 4.068 Add distro "rolling"
#24 4.068 updated cache in /root/.ros/rosdep/sources.cache
#24 4.068 Warning: running 'rosdep update' as root is not recommended.
#24 4.068   You should run 'sudo rosdep fix-permissions' and invoke 'rosdep update' again without sudo.
#24 4.430 #All required rosdeps installed successfully
#24 4.430 ERROR: the following packages/stacks could not have their rosdep keys resolved
#24 4.430 to system dependencies:
#24 4.430 rviz_plugins: Cannot locate rosdep definition for [multi_map_server]
#24 4.430 Continuing to install resolvable dependencies...
#24 4.463 Building all packages in workspace with catkin_make...
#24 4.550 -- The C compiler identification is GNU 9.4.0
#24 4.589 -- The CXX compiler identification is GNU 9.4.0
#24 4.593 -- Check for working C compiler: /usr/bin/cc
#24 4.635 -- Check for working C compiler: /usr/bin/cc -- works
#24 4.636 -- Detecting C compiler ABI info
#24 4.678 -- Detecting C compiler ABI info - done
#24 4.686 -- Detecting C compile features
#24 4.686 -- Detecting C compile features - done
#24 4.688 -- Check for working CXX compiler: /usr/bin/c++
#24 4.737 -- Check for working CXX compiler: /usr/bin/c++ -- works
#24 4.738 -- Detecting CXX compiler ABI info
#24 4.787 -- Detecting CXX compiler ABI info - done
#24 4.795 -- Detecting CXX compile features
#24 4.796 -- Detecting CXX compile features - done
#24 4.847 -- Using CATKIN_DEVEL_PREFIX: /catkin_ws/devel
#24 4.847 -- Using CMAKE_PREFIX_PATH: /opt/ros/noetic
#24 4.847 -- This workspace overlays: /opt/ros/noetic
#24 4.862 -- Found PythonInterp: /usr/bin/python3 (found suitable version "3.8.10", minimum required is "3") 
#24 4.862 -- Using PYTHON_EXECUTABLE: /usr/bin/python3
#24 4.862 -- Using Debian Python package layout
#24 4.882 -- Found PY_em: /usr/lib/python3/dist-packages/em.py  
#24 4.882 -- Using empy: /usr/lib/python3/dist-packages/em.py
#24 4.958 -- Using CATKIN_ENABLE_TESTING: ON
#24 4.958 -- Call enable_testing()
#24 4.959 -- Using CATKIN_TEST_RESULTS_DIR: /catkin_ws/build/test_results
#24 5.163 -- Forcing gtest/gmock from source, though one was otherwise available.
#24 5.163 -- Found gtest sources under '/usr/src/googletest': gtests will be built
#24 5.163 -- Found gmock sources under '/usr/src/googletest': gmock will be built
#24 5.180 -- Found PythonInterp: /usr/bin/python3 (found version "3.8.10") 
#24 5.182 -- Found Threads: TRUE  
#24 5.185 -- Using Python nosetests: /usr/bin/nosetests3
#24 5.218 -- catkin 0.8.12
#24 5.218 -- BUILD_SHARED_LIBS is on
#24 5.304 -- BUILD_SHARED_LIBS is on
#24 5.476 -- ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
#24 5.476 -- ~~  traversing 10 packages in topological order:
#24 5.476 -- ~~  - catkin_simple
#24 5.476 -- ~~  - decomp_ros_msgs
#24 5.476 -- ~~  - cmake_utils
#24 5.476 -- ~~  - pose_utils
#24 5.476 -- ~~  - quadrotor_msgs
#24 5.476 -- ~~  - px4_offboard
#24 5.476 -- ~~  - uav_utils
#24 5.476 -- ~~  - px4ctrl
#24 5.476 -- ~~  - decomp_ros_utils
#24 5.477 -- ~~  - rviz_plugins
#24 5.477 -- ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
#24 5.477 -- +++ processing catkin package: 'catkin_simple'
#24 5.477 -- ==> add_subdirectory(shiviz_px4_nav/src/utils/catkin_simple)
#24 5.649 -- +++ processing catkin package: 'decomp_ros_msgs'
#24 5.649 -- ==> add_subdirectory(shiviz_px4_nav/src/utils/DecompROS/decomp_ros_msgs)
#24 5.702 -- Using these message generators: gencpp;geneus;genlisp;gennodejs;genpy
#24 5.824 -- decomp_ros_msgs: 4 messages, 0 services
#24 5.900 -- +++ processing catkin package: 'cmake_utils'
#24 5.900 -- ==> add_subdirectory(shiviz_px4_nav/src/utils/cmake_utils)
#24 6.069 -- +++ processing catkin package: 'pose_utils'
#24 6.069 -- ==> add_subdirectory(shiviz_px4_nav/src/utils/pose_utils)
#24 6.241 -- Found Armadillo: /usr/lib/libarmadillo.so (found version "9.800.4") 
#24 6.242 -- +++ processing catkin package: 'quadrotor_msgs'
#24 6.242 -- ==> add_subdirectory(shiviz_px4_nav/src/utils/quadrotor_msgs)
#24 6.279 -- Using these message generators: gencpp;geneus;genlisp;gennodejs;genpy
#24 6.412 -- quadrotor_msgs: 24 messages, 0 services
#24 6.536 -- +++ processing catkin package: 'px4_offboard'
#24 6.536 -- ==> add_subdirectory(shiviz_px4_nav/src/px4_offboard_node)
#24 6.567 -- Using these message generators: gencpp;geneus;genlisp;gennodejs;genpy
#24 6.746 CMake Error at shiviz_px4_nav/src/px4_offboard_node/CMakeLists.txt:29 (add_subdirectory):
#24 6.746   add_subdirectory not given a binary directory but the given source
#24 6.746   directory "/catkin_ws/src/shiviz_px4_nav/thirdparty/yaml-cpp" is not a
#24 6.746   subdirectory of "/catkin_ws/src/shiviz_px4_nav/src/px4_offboard_node".
#24 6.746   When specifying an out-of-tree source a binary directory must be explicitly
#24 6.746   specified.
#24 6.746 
#24 6.746 
#24 6.746 CMake Error at /opt/ros/noetic/share/catkin/cmake/custom_install.cmake:13 (_install):
#24 6.746   _install TARGETS given target "yaml-cpp" which does not exist.
#24 6.746 Call Stack (most recent call first):
#24 6.746   shiviz_px4_nav/src/px4_offboard_node/CMakeLists.txt:53 (install)
#24 6.746 
#24 6.746 
#24 6.746 -- +++ processing catkin package: 'uav_utils'
#24 6.746 -- ==> add_subdirectory(shiviz_px4_nav/src/utils/uav_utils)
#24 6.753 -- Performing Test COMPILER_SUPPORTS_CXX11
#24 6.805 -- Performing Test COMPILER_SUPPORTS_CXX11 - Success
#24 6.808 -- Performing Test COMPILER_SUPPORTS_CXX0X
#24 6.857 -- Performing Test COMPILER_SUPPORTS_CXX0X - Success
#24 6.928 -- Found Eigen: /usr/include/eigen3 (found version "3.3.7") 
#24 7.030 -- +++ processing catkin package: 'px4ctrl'
#24 7.030 -- ==> add_subdirectory(shiviz_px4_nav/src/px4ctrl)
#24 7.099 -- Using these message generators: gencpp;geneus;genlisp;gennodejs;genpy
#24 7.290 -- Installing devel-space wrapper /catkin_ws/src/shiviz_px4_nav/src/px4ctrl/thrust_calibrate_scrips/thrust_calibrate.py to /catkin_ws/devel/lib/px4ctrl
#24 7.292 -- +++ processing catkin package: 'decomp_ros_utils'
#24 7.292 -- ==> add_subdirectory(shiviz_px4_nav/src/utils/DecompROS/decomp_ros_utils)
#24 7.350 -- Using these message generators: gencpp;geneus;genlisp;gennodejs;genpy
#24 7.485 -- Using Qt5 based on the rviz_QT_VERSION: 5.12.8
#24 7.592 -- Marking SHARED_LIBRARY "decomp_rviz_plugins" of package "decomp_ros_utils" for installation
#24 7.592 -- Marking HEADER FILES in "include" folder of package "decomp_ros_utils" for installation
#24 7.664 -- +++ processing catkin package: 'rviz_plugins'
#24 7.664 -- ==> add_subdirectory(shiviz_px4_nav/src/utils/rviz_plugins)
#24 7.720 -- Using these message generators: gencpp;geneus;genlisp;gennodejs;genpy
#24 7.884 CMake Warning at /opt/ros/noetic/share/catkin/cmake/catkin_package.cmake:166 (message):
#24 7.884   catkin_package() DEPENDS on 'system_lib' but neither
#24 7.884   'system_lib_INCLUDE_DIRS' nor 'system_lib_LIBRARIES' is defined.
#24 7.884 Call Stack (most recent call first):
#24 7.884   /opt/ros/noetic/share/catkin/cmake/catkin_package.cmake:102 (_catkin_package)
#24 7.884   shiviz_px4_nav/src/utils/rviz_plugins/CMakeLists.txt:12 (catkin_package)
#24 7.884 
#24 7.884 
#24 7.954 -- Using Qt5 based on the rviz_QT_VERSION: 5.12.8
#24 7.965 -- Configuring incomplete, errors occurred!
#24 7.965 See also "/catkin_ws/build/CMakeFiles/CMakeOutput.log".
#24 7.965 See also "/catkin_ws/build/CMakeFiles/CMakeError.log".
#24 7.975 Base path: /catkin_ws
#24 7.975 Source space: /catkin_ws/src
#24 7.975 Build space: /catkin_ws/build
#24 7.975 Devel space: /catkin_ws/devel
#24 7.975 Install space: /catkin_ws/install
#24 7.975 Creating symlink "/catkin_ws/src/CMakeLists.txt" pointing to "/opt/ros/noetic/share/catkin/cmake/toplevel.cmake"
#24 7.975 ####
#24 7.975 #### Running command: "cmake /catkin_ws/src -DCMAKE_BUILD_TYPE=Release -DCATKIN_DEVEL_PREFIX=/catkin_ws/devel -DCMAKE_INSTALL_PREFIX=/catkin_ws/install -G Unix Makefiles" in "/catkin_ws/build"
#24 7.975 ####
#24 7.975 Invoking "cmake" failed
#24 ERROR: process "/bin/bash -c source /opt/ros/noetic/setup.bash     && rosdep update     && rosdep install --from-paths src --ignore-src -r -y     && echo \"Building all packages in workspace with catkin_make...\"     && catkin_make -DCMAKE_BUILD_TYPE=Release     && echo \"Build complete. Listing packages:\"     && ls -la devel/lib/" did not complete successfully: exit code: 1
------
 > [20/24] RUN source /opt/ros/noetic/setup.bash     && rosdep update     && rosdep install --from-paths src --ignore-src -r -y     && echo "Building all packages in workspace with catkin_make..."     && catkin_make -DCMAKE_BUILD_TYPE=Release     && echo "Build complete. Listing packages:"     && ls -la devel/lib/:
7.975 Base path: /catkin_ws
7.975 Source space: /catkin_ws/src
7.975 Build space: /catkin_ws/build
7.975 Devel space: /catkin_ws/devel
7.975 Install space: /catkin_ws/install
7.975 Creating symlink "/catkin_ws/src/CMakeLists.txt" pointing to "/opt/ros/noetic/share/catkin/cmake/toplevel.cmake"
7.975 ####
7.975 #### Running command: "cmake /catkin_ws/src -DCMAKE_BUILD_TYPE=Release -DCATKIN_DEVEL_PREFIX=/catkin_ws/devel -DCMAKE_INSTALL_PREFIX=/catkin_ws/install -G Unix Makefiles" in "/catkin_ws/build"
7.975 ####
7.975 Invoking "cmake" failed
------
Dockerfile:144
--------------------
 143 |     WORKDIR /catkin_ws/
 144 | >>> RUN source /opt/ros/noetic/setup.bash \
 145 | >>>     && rosdep update \
 146 | >>>     && rosdep install --from-paths src --ignore-src -r -y \
 147 | >>>     && echo "Building all packages in workspace with catkin_make..." \
 148 | >>>     && catkin_make -DCMAKE_BUILD_TYPE=Release \
 149 | >>>     && echo "Build complete. Listing packages:" \
 150 | >>>     && ls -la devel/lib/
 151 |     
--------------------
ERROR: failed to solve: process "/bin/bash -c source /opt/ros/noetic/setup.bash     && rosdep update     && rosdep install --from-paths src --ignore-src -r -y     && echo \"Building all packages in workspace with catkin_make...\"     && catkin_make -DCMAKE_BUILD_TYPE=Release     && echo \"Build complete. Listing packages:\"     && ls -la devel/lib/" did not complete successfully: exit code: 1
